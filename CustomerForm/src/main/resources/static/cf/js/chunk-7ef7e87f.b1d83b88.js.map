{"version":3,"sources":["webpack:///./src/views/system/field-editor/money-widget-editor.vue?baa9","webpack:///src/views/system/field-editor/money-widget-editor.vue","webpack:///./src/views/system/field-editor/money-widget-editor.vue?7805","webpack:///./src/views/system/field-editor/money-widget-editor.vue","webpack:///./src/views/system/field-editor/money-widget-editor.vue?81a6","webpack:///./src/views/system/field-editor/field-editor-mixin.js","webpack:///./src/views/system/field-state-variables.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","showingInDialog","_e","_v","ref","attrs","fieldProps","rules","nativeOn","$event","preventDefault","fieldState","model","value","callback","$$v","$set","expression","staticStyle","fieldViewModel","_n","_l","vt","vtIdx","key","label","on","saveField","cancelSave","staticRenderFns","component","fieldEditorMixin","data","name","required","message","trigger","pattern","min","max","mounted","FieldState","EDIT","loadFieldProps","methods","createNewField","modifyOldField","state","msg","$message","type","$emit","NEW"],"mappings":"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","file":"js/chunk-7ef7e87f.b1d83b88.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"field-props-container\"},[(!!!_vm.showingInDialog)?_c('el-header',{staticClass:\"field-props-header\"},[_vm._v(\" [金额]字段属性设置 \")]):_vm._e(),_c('el-main',{staticClass:\"field-props-pane\"},[_c('el-form',{ref:\"editorForm\",attrs:{\"model\":_vm.fieldProps,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"220px\",\"size\":\"mini\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"字段名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"disabled\":_vm.fieldState !== 1},model:{value:(_vm.fieldProps.name),callback:function ($$v) {_vm.$set(_vm.fieldProps, \"name\", $$v)},expression:\"fieldProps.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"显示名称\",\"prop\":\"label\"}},[_c('el-input',{model:{value:(_vm.fieldProps.label),callback:function ($$v) {_vm.$set(_vm.fieldProps, \"label\", $$v)},expression:\"fieldProps.label\"}})],1),_c('el-form-item',{attrs:{\"label\":\"小数精度位数（不超过6位）\"}},[_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"min\":0,\"max\":6},model:{value:(_vm.fieldProps.fieldViewModel.precision),callback:function ($$v) {_vm.$set(_vm.fieldProps.fieldViewModel, \"precision\", $$v)},expression:\"fieldProps.fieldViewModel.precision\"}})],1),_c('el-form-item',{attrs:{\"label\":\"最小值\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"number\"},model:{value:(_vm.fieldProps.fieldViewModel.minValue),callback:function ($$v) {_vm.$set(_vm.fieldProps.fieldViewModel, \"minValue\", _vm._n($$v))},expression:\"fieldProps.fieldViewModel.minValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"最大值\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"number\"},model:{value:(_vm.fieldProps.fieldViewModel.maxValue),callback:function ($$v) {_vm.$set(_vm.fieldProps.fieldViewModel, \"maxValue\", _vm._n($$v))},expression:\"fieldProps.fieldViewModel.maxValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"字段校验函数(可多选)\",\"prop\":\"fieldViewModel.validators\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"allow-create\":\"\",\"filterable\":\"\",\"default-first-option\":\"\",\"popper-append-to-body\":false},model:{value:(_vm.fieldProps.fieldViewModel.validators),callback:function ($$v) {_vm.$set(_vm.fieldProps.fieldViewModel, \"validators\", $$v)},expression:\"fieldProps.fieldViewModel.validators\"}},_vm._l((_vm.validators),function(vt,vtIdx){return _c('el-option',{key:vtIdx,attrs:{\"label\":vt.label,\"value\":vt.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"是否允许空值\"}},[_c('el-radio-group',{staticStyle:{\"float\":\"right\"},model:{value:(_vm.fieldProps.nullable),callback:function ($$v) {_vm.$set(_vm.fieldProps, \"nullable\", $$v)},expression:\"fieldProps.nullable\"}},[_c('el-radio',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"新建记录时允许修改字段\"}},[_c('el-radio-group',{staticStyle:{\"float\":\"right\"},model:{value:(_vm.fieldProps.creatable),callback:function ($$v) {_vm.$set(_vm.fieldProps, \"creatable\", $$v)},expression:\"fieldProps.creatable\"}},[_c('el-radio',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"更新记录时允许修改字段\"}},[_c('el-radio-group',{staticStyle:{\"float\":\"right\"},model:{value:(_vm.fieldProps.updatable),callback:function ($$v) {_vm.$set(_vm.fieldProps, \"updatable\", $$v)},expression:\"fieldProps.updatable\"}},[_c('el-radio',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1),_c('hr',{staticStyle:{\"border\":\"0\",\"border-top\":\"1px dotted #cccccc\"}}),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.saveField}},[_vm._v(\" 保存字段 \")]),(!!_vm.showingInDialog)?_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":_vm.cancelSave}},[_vm._v(\" 取消 \")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container class=\"field-props-container\">\n    <el-header class=\"field-props-header\" v-if=\"!!!showingInDialog\">\n      [金额]字段属性设置\n    </el-header>\n    <el-main class=\"field-props-pane\">\n      <el-form\n        ref=\"editorForm\"\n        :model=\"fieldProps\"\n        :rules=\"rules\"\n        label-position=\"left\"\n        label-width=\"220px\"\n        size=\"mini\"\n        @submit.native.prevent\n      >\n        <el-form-item label=\"字段名称\" prop=\"name\">\n          <el-input\n            v-model=\"fieldProps.name\"\n            :disabled=\"fieldState !== 1\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"显示名称\" prop=\"label\">\n          <el-input v-model=\"fieldProps.label\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"小数精度位数（不超过6位）\">\n          <el-input-number\n            v-model=\"fieldProps.fieldViewModel.precision\"\n            :min=\"0\"\n            :max=\"6\"\n            style=\"width: 100%\"\n          ></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"最小值\">\n          <el-input\n            v-model.number=\"fieldProps.fieldViewModel.minValue\"\n            type=\"number\"\n            style=\"width: 100%\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"最大值\">\n          <el-input\n            v-model.number=\"fieldProps.fieldViewModel.maxValue\"\n            type=\"number\"\n            style=\"width: 100%\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"字段校验函数(可多选)\"\n          prop=\"fieldViewModel.validators\"\n        >\n          <el-select\n            multiple\n            allow-create\n            filterable\n            default-first-option\n            :popper-append-to-body=\"false\"\n            v-model=\"fieldProps.fieldViewModel.validators\"\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"(vt, vtIdx) in validators\"\n              :key=\"vtIdx\"\n              :label=\"vt.label\"\n              :value=\"vt.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"是否允许空值\">\n          <el-radio-group v-model=\"fieldProps.nullable\" style=\"float: right\">\n            <el-radio :label=\"true\">是</el-radio>\n            <el-radio :label=\"false\">否</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"新建记录时允许修改字段\">\n          <el-radio-group v-model=\"fieldProps.creatable\" style=\"float: right\">\n            <el-radio :label=\"true\">是</el-radio>\n            <el-radio :label=\"false\">否</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"更新记录时允许修改字段\">\n          <el-radio-group v-model=\"fieldProps.updatable\" style=\"float: right\">\n            <el-radio :label=\"true\">是</el-radio>\n            <el-radio :label=\"false\">否</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <hr style=\"border: 0; border-top: 1px dotted #cccccc\" />\n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            size=\"medium\"\n            style=\"width: 120px\"\n            @click=\"saveField\"\n          >\n            保存字段\n          </el-button>\n          <el-button size=\"medium\" v-if=\"!!showingInDialog\" @click=\"cancelSave\">\n            取消\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\n  // import { addField } from '@/api/system-manager'\n  import FieldState from \"@/views/system/field-state-variables\";\n  import { fieldEditorMixin } from \"@/views/system/field-editor/field-editor-mixin\";\n\n  export default {\n    name: \"MoneyWidgetEditor\",\n    props: {\n      entity: String,\n      fieldName: String,\n      showingInDialog: Boolean,\n      fieldState: {\n        type: Number,\n        default: FieldState.NEW,\n      },\n    },\n    mixins: [fieldEditorMixin],\n    data() {\n      return {\n        fieldProps: {\n          name: \"\",\n          label: \"\",\n          type: \"Money\",\n          defaultMemberOfListFlag: true,\n          nullable: false,\n          creatable: true,\n          updatable: true,\n          fieldViewModel: {\n            minValue: -999999999,\n            maxValue: 999999999,\n            precision: 2,\n            validators: [],\n          },\n        },\n\n        validators: [],\n      };\n    },\n    mounted() {\n      //mixin\n    },\n    methods: {\n      saveField() {\n        let validResult = true;\n        this.$refs[\"editorForm\"].validate((success) => {\n          if (!success) {\n            validResult = false;\n            return false;\n          }\n        });\n        if (!validResult) return;\n\n        this.fieldProps.type = \"Money\";\n        if (this.fieldState === FieldState.NEW) {\n          this.createNewField();\n        } else if (this.fieldState === FieldState.EDIT) {\n          this.modifyOldField();\n        } else {\n          // error\n        }\n      },\n\n      cancelSave() {\n        this.$emit(\"cancelSave\");\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"@/styles/form-layout/field-editor-common.scss\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./money-widget-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./money-widget-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./money-widget-editor.vue?vue&type=template&id=4d7a8dc2&scoped=true&\"\nimport script from \"./money-widget-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./money-widget-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./money-widget-editor.vue?vue&type=style&index=0&id=4d7a8dc2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d7a8dc2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./money-widget-editor.vue?vue&type=style&index=0&id=4d7a8dc2&lang=scss&scoped=true&\"","import FieldState from \"@/views/system/field-state-variables\";\nimport {importFieldsSave, saveField} from \"@/api\";\n// import {addField, getField, updateField} from \"@/api/system-manager\";\n// import { copyObj } from \"@/utils/util\";\n\nexport const fieldEditorMixin = {\n  data() {\n    return {\n      rules: {\n        name: [\n          { required: true, message: \"请输入字段名称\", trigger: \"blur\" },\n          {\n            pattern: /^[a-z]+[A-Za-z\\d]*$/,\n            message: \"请以小写英文字母开头，中间可输入字母或数字，禁止中文\",\n            trigger: \"blur\",\n          },\n          { min: 2, max: 30, message: \"请输入至少两个字符\", trigger: \"blur\" },\n        ],\n        label: [\n          { required: true, message: \"请输入显示名称\", trigger: \"blur\" },\n          {\n            pattern: /^[A-Za-z\\d\\u4e00-\\u9fa5]+[_-]*/,\n            message: \"请以中文、英文字母、数字开头，中间可输入下划线或横杠\",\n            trigger: \"blur\",\n          },\n          { min: 2, max: 30, message: \"请输入至少两个字符\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n  mounted() {\n    if (this.fieldState === FieldState.EDIT) {\n      this.loadFieldProps();\n    }\n  },\n  methods: {\n    createNewField() {\n      // addField(this.fieldProps, this.entity)\n      //   .then((res) => {\n      //     if (res.error != null) {\n      //       this.$message({ message: res.error, type: \"error\" });\n      //       return;\n      //     }\n      //     this.$message.success(\"保存成功\");\n      //     this.$emit(\"fieldSaved\");\n      //   })\n      //   .catch((res) => {\n      //     this.$message({ message: res.message, type: \"error\" });\n      //   });\n    },\n\n    async modifyOldField(data,fieldState) {\n      if (fieldState!=8){\n        const { state, msg } = await saveField(data);\n        this.$message({\n          message: msg,\n          type: state,\n        });\n      }\n      this.$emit(\"fieldSaved\",data);\n    },\n\n    cancelSave() {\n      this.$emit(\"cancelSave\");\n    },\n\n    loadFieldProps() {\n      if (this.fieldState !== FieldState.EDIT) {\n        return;\n      }\n\n      // getField(this.fieldName, this.entity)\n      //   .then((res) => {\n      //     if (res.error != null) {\n      //       this.$message({ message: res.error, type: \"error\" });\n      //       return;\n      //     }\n\n      //     //console.log(res.data)\n      //     copyObj(this.fieldProps, res.data);\n      //     if (!this.fieldProps.fieldViewModel) {\n      //       this.fieldProps.fieldViewModel = {};\n      //     }\n      //     if (!this.fieldProps.referenceSetting) {\n      //       this.fieldProps.referenceSetting = [];\n      //     }\n\n      //     //console.log( this.fieldProps )\n      //   })\n      //   .catch((res) => {\n      //     this.$message({ message: res.message, type: \"error\" });\n      //   });\n    },\n  },\n};\n","/* 字段状态：1新建，2编辑 */\nconst NEW = 1\nconst EDIT = 2\n\nexport default {\n  NEW,\n  EDIT,\n}\n"],"sourceRoot":""}